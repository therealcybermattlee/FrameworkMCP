{
  "openapi": "3.0.3",
  "info": {
    "title": "Framework MCP API - Pure Data Provider",
    "description": "Microsoft Copilot-compatible API providing authoritative CIS Controls Framework v8.1 data (153 safeguards). Pure Data Provider architecture empowers LLMs with structured safeguards data and AI-driven systemPrompts for sophisticated, context-aware vendor capability analysis and n8n workflow automation.",
    "version": "2.0.0",
    "contact": {
      "name": "Framework MCP Support",
      "url": "https://github.com/therealcybermattlee/FrameworkMCP"
    },
    "license": {
      "name": "MIT",
      "url": "https://opensource.org/licenses/MIT"
    }
  },
  "servers": [
    {
      "url": "https://your-deployment.ondigitalocean.app",
      "description": "Production DigitalOcean App Services deployment"
    },
    {
      "url": "http://localhost:8080",
      "description": "Local development server"
    }
  ],
  "paths": {
    "/health": {
      "get": {
        "summary": "Health Check",
        "description": "Check API health status and performance metrics",
        "operationId": "healthCheck",
        "tags": ["Monitoring"],
        "responses": {
          "200": {
            "description": "Service is healthy",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/safeguards": {
      "get": {
        "summary": "List Available Safeguards",
        "description": "Get a list of all available CIS Controls v8.1 safeguards (153 total)",
        "operationId": "listSafeguards",
        "tags": ["Safeguards"],
        "responses": {
          "200": {
            "description": "List of available safeguards",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SafeguardListResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/safeguards/{safeguardId}": {
      "get": {
        "summary": "Get Safeguard Details",
        "description": "Get detailed information about a specific CIS safeguard including governance elements, core requirements, implementation suggestions, and five capability-specific AI-driven system prompts for n8n workflow integration",
        "operationId": "getSafeguardDetails",
        "tags": ["Safeguards"],
        "parameters": [
          {
            "name": "safeguardId",
            "in": "path",
            "required": true,
            "description": "CIS safeguard ID (e.g., '1.1', '5.1', '12.8')",
            "schema": {
              "type": "string",
              "pattern": "^[0-9]+\\.[0-9]+$",
              "example": "1.1"
            }
          },
          {
            "name": "include_examples",
            "in": "query",
            "required": false,
            "description": "Include implementation examples in response",
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Safeguard details retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SafeguardDetails"
                }
              }
            }
          },
          "400": {
            "description": "Invalid safeguard ID format",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Safeguard not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/metrics": {
      "get": {
        "summary": "Performance Metrics",
        "description": "Get API performance metrics and usage statistics",
        "operationId": "getMetrics",
        "tags": ["Monitoring"],
        "responses": {
          "200": {
            "description": "Performance metrics",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MetricsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api": {
      "get": {
        "summary": "API Documentation",
        "description": "Get API documentation and available endpoints information",
        "operationId": "getApiDocumentation",
        "tags": ["Monitoring"],
        "responses": {
          "200": {
            "description": "API documentation and endpoints",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiDocumentationResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "SafeguardListResponse": {
        "type": "object",
        "properties": {
          "safeguards": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "example": "1.1"
                },
                "title": {
                  "type": "string",
                  "example": "Establish and Maintain Detailed Enterprise Asset Inventory"
                },
                "implementationGroup": {
                  "type": "string",
                  "enum": ["IG1", "IG2", "IG3"],
                  "example": "IG1"
                }
              }
            }
          },
          "total": {
            "type": "integer",
            "example": 153
          },
          "framework": {
            "type": "string",
            "example": "CIS Controls v8.1"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "SafeguardDetails": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "example": "1.1"
          },
          "title": {
            "type": "string",
            "example": "Establish and Maintain Detailed Enterprise Asset Inventory"
          },
          "description": {
            "type": "string",
            "description": "Detailed description of the safeguard requirements"
          },
          "implementationGroup": {
            "type": "string",
            "enum": ["IG1", "IG2", "IG3"],
            "example": "IG1"
          },
          "governanceElements": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Governance requirements that MUST be met (Orange elements)"
          },
          "coreRequirements": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Core 'what' requirements of the safeguard (Green elements)"
          },
          "subTaxonomicalElements": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Sub-taxonomical components (Yellow elements)"
          },
          "implementationSuggestions": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Implementation methods and suggestions (Gray elements)"
          },
          "systemPromptFull": {
            "$ref": "#/components/schemas/SystemPromptStructure",
            "description": "AI-driven system prompt for FULL capability evaluation"
          },
          "systemPromptPartial": {
            "$ref": "#/components/schemas/SystemPromptStructure",
            "description": "AI-driven system prompt for PARTIAL capability evaluation"
          },
          "systemPromptFacilitates": {
            "$ref": "#/components/schemas/SystemPromptStructure",
            "description": "AI-driven system prompt for FACILITATES capability evaluation"
          },
          "systemPromptGovernance": {
            "$ref": "#/components/schemas/SystemPromptStructure",
            "description": "AI-driven system prompt for GOVERNANCE capability evaluation"
          },
          "systemPromptValidates": {
            "$ref": "#/components/schemas/SystemPromptStructure",
            "description": "AI-driven system prompt for VALIDATES capability evaluation"
          }
        }
      },
      "HealthResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "example": "healthy"
          },
          "uptime": {
            "type": "integer",
            "description": "Uptime in seconds"
          },
          "totalRequests": {
            "type": "integer",
            "description": "Total requests processed"
          },
          "errorCount": {
            "type": "integer",
            "description": "Total errors encountered"
          },
          "version": {
            "type": "string",
            "example": "1.5.3"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "MetricsResponse": {
        "type": "object",
        "properties": {
          "uptime_seconds": {
            "type": "integer"
          },
          "total_requests": {
            "type": "integer"
          },
          "error_count": {
            "type": "integer"
          },
          "error_rate": {
            "type": "string",
            "example": "0.5%"
          },
          "request_counts": {
            "type": "object",
            "additionalProperties": {
              "type": "integer"
            }
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ApiDocumentationResponse": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "example": "Framework MCP HTTP API"
          },
          "version": {
            "type": "string",
            "example": "1.5.3"
          },
          "description": {
            "type": "string",
            "example": "Pure Data Provider API serving authoritative CIS Controls Framework data for LLM-driven analysis"
          },
          "endpoints": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Available API endpoints and their descriptions"
          },
          "capabilities": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Supported capability types"
          },
          "framework": {
            "type": "string",
            "example": "CIS Controls v8.1 (153 safeguards)"
          },
          "deployment": {
            "type": "string",
            "example": "DigitalOcean App Services compatible"
          }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "error": {
            "type": "string",
            "description": "Error message"
          },
          "details": {
            "type": "string",
            "description": "Additional error details"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "SystemPromptStructure": {
        "type": "object",
        "description": "AI-driven system prompt structure for vendor capability analysis",
        "properties": {
          "role": {
            "type": "string",
            "description": "Expert role for the specific control type",
            "example": "asset_inventory_expert"
          },
          "context": {
            "type": "string",
            "description": "Brief context about the safeguard for AI understanding",
            "example": "You are evaluating enterprise asset inventory solutions against CIS Control 1.1 requirements"
          },
          "objective": {
            "type": "string",
            "description": "What the AI should accomplish",
            "example": "Determine if vendor solution provides complete asset inventory capabilities"
          },
          "guidelines": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Specific evaluation criteria and methods",
            "example": ["Verify coverage of all asset types", "Confirm data collection accuracy"]
          },
          "outputFormat": {
            "type": "string",
            "description": "Expected response structure for n8n processing",
            "example": "Provide structured assessment with capability level (FULL/PARTIAL/FACILITATES/GOVERNANCE/VALIDATES), confidence score, and evidence summary"
          }
        },
        "required": ["role", "context", "objective", "guidelines", "outputFormat"]
      }
    }
  },
  "tags": [
    {
      "name": "Safeguards",
      "description": "Authoritative CIS Controls safeguards data for LLM-driven analysis"
    },
    {
      "name": "Monitoring",
      "description": "Health checks and performance monitoring"
    }
  ],
  "externalDocs": {
    "description": "Framework MCP GitHub Repository",
    "url": "https://github.com/therealcybermattlee/FrameworkMCP"
  }
}